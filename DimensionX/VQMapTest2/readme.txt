TODO:

1. История:
	а) В руинах можно найти артефакты - техногенные или магические, в зависимости от того, чьи это руины...
	б) Перегенерация зон
	в) Подъём и опускание материковых плит.
2. Магия:
	г) Магические таланты раздаётся уже полностью сгенерированному населению - самыми сильными магами становятся люди и без того чего-то стоящие.
3. Государственность:
	в) Преступность - чем выше культурный уровень, тем безопаснее территория государства.
	г) Касты/сословия?
	д) Морские пути - строятся после создания государств, Максимум от технического/магического уровня государства определяет максимальную длину морских путей, которые это государство может поддерживать. Для привязки к реальному масштабу используем расстояние от экватора до полюса.
	е) Государства имеющие морское сообщение - считаются соседними, так же как если бы они имели общую границу. Условно длина границы считается пропорционально числу портов.
	ж) При достаточно высоком техническом или магическом уровне + воздушное сообщение.
	з) Метагосударства - империи, союзы, альянсы и т.д. образуются путём объединения нескольких меньших государств. Объединение может происходить в форме завоевания, если объединяются враждующие государства, тогда то, которое ненавидит другое сильнее, главенствует, либо в форме объединения союзных государств, тогда то, которое испытывает более тёплые чувства присоединяется.
4. Социум - альтернативные организации:
	а) Церковь/религия - строится вокруг оккультных центров, которые бывают различной "мощности". Соответственно, могут быть разных размеров - секта, культ, церковь... Не имеют чётких границ.
		(i) Выбор богов - по цветам. Чёрный - смерть, белый - творение, зелёный - жизнь, красный - война, фиолетовый - демонология (разврат?), голубой - иллюзии, розовый - любовь...
		(ii) В общем-то чисто декоративная фишка. Хотя, можно использовать при дипломатии. Так же определяют выбор школ магии. 
	б) Спецслужбы. Могут быть у любых организаций, не только у государств.
	в) Криминальные организации.
	г) Ордена, гильдии...
5. Ланшафт:
	а) Реки - текут по суше из случайной точки в случайном направлении по границам локаций с наименьшим отклонением, без закольцовывания, до тех пор, пока не впадёт в океан, озеро или другую реку. Может разветвляться. Влияют на карту влажности. Генерируются модифицированием сетки - вершины ребра, вдоль которого они текут, удваиваются и создаётся новая вырожденная локация.
	б) Названия для морей, океанов, проливов, заливов и пр. (см. картогенератор MD)
	г) Генерация сферической карты - сетка точек задаётся на сфере, затем разворачивается в проекцию Меркатора, плюс закольцовывается. После построения диаграммы Вороного - собирается обратно на сферу.
	д) Добавление на карту высот. Сначала поднимаем все континенты над водой, потом выращиваем горы, затем добавляем шум, потом прокладываем русла рек - чтобы текли всегда под уклон                      .
	е) Просмотр карты в 3D.
	ж) Возможность генерации других нестандартных миров - конус, диск, чаша... (Соответсвенно - экватор не обязательно прямая, а полюса - не обязательно точки.)
6. Интерфейс:
	б) возможность задавать вероятности для технически и магически развитых миров.
	в) Рассчёт кратчайшего пути между двумя произвольными точками.
	ж) Считывание списка рас (со всеми параметрами) из внешнего файла.
	и) Экспорт сгенерированной карты в читабельный формат - csv или xml.
	к) Вывод более подробной информации по межгосударственным отношениям - не только кто кого, но так же за что и почему.

Сделано:
* Руины - реально остатки городов предыдущих цивилизаций. Чем выше уровень цивилизации - тем больше вероятность, что останутся руины.
* Магия - потолок - наивысший уровень магии, принципиально доступный аборигенам. Определяется отдельно для мира, расы и государства.
* Магия - распространённость - насколько часто среди аборигенов встречаются люди с магическим талантом. Определяется отдельно для мира, расы и государства.
* Магия - отношение в обществе - как аборигены относятся к магам (free, controlled, forbidden). Определяется отдельно для мира, расы и государства.

* Генерация закольцованной карты - для построения сетки дублируем набор точек слева и справа от основного массива, потом настраиваем связи-соседи. Так же нужно будет модифицировать оценку расстояния для алгоритма поиска пути.
* Миникарта.
* Правильное мастабирование карты, если высота больше ширины.
* Межгосударственные отношения.

* Хранимая в реестре "рабочая директория", в которой держать все файлы, включая сетки. При генерации - пыпадающий список всех сеток в рабочей директории (вместо Load) + кнопка "Build new".
* Выбранное в настоящий момент государство отмечается на миникарте.
* Фокусировка карты на выбранном государстве производится не автоматически, при выборе нового государства, а только при нажатии специальной кнопки.
* Центрирование карты, если ширина или высота меньше ширины или высоты холста.
* Изменён формат файла сетки - теперь вершины диаграммы вороного не дублируются для разных локаций. Так же в файле для каждой вершины теперь хранятся ссылки на соседние вершины и на локации, в границы которых эта вершина входит - нужно для морских путешествий, которые в отличие от сухопутных, проходят не через центры локаций а по их граням.

* "Культура" переименована в "Идеологию", так же государствам добавлен параметр "Контроль", определяющий степень анархичности/тоталитарности правительственного режима.
* Государства с расово-специфическими названиями (султанат, царство, ханство...) теперь могут основывать только соответствующие расы (определяется по используемому языку).

* "Идеология" переименована в "уровень развития системы правления", теперь фигурирует только как циферка в статистике и используется как промежуточное значение при выборе типа правления.
* Добавлена структура "Культура", представляющая собой многомерный вектор, выражающий отношение к определённым социальным явлениям и формам взаимодействия (агрессивность, вероломство, фанатизим, эксплуатация и пр.)
* Улучшена навигация по списку государств.
* Информация о государстве теперь выводится TichTextBox со скроллингом, враждебные/дружественные государства представляются гиперссылками.
